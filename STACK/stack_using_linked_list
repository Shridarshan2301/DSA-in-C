//Implementing Stack Operations using a Singly Linked List
#include<stdio.h>
#include<stdlib.h>
struct node {
    int data;
    struct node *next;
};
struct node *top=NULL;
void push(int val) {
    struct node *newnode = (struct node *)malloc(sizeof(struct node));
    if (!newnode) {
        printf("Stack Overflow\n");
        return;
    }
    newnode->data = val;
    newnode->next = top;
    top = newnode;
    printf("%d pushed to stack\n", val);
}
int pop() {
    if (top == NULL) {
        printf("Stack Underflow\n");
        return -1;
    } else {
        struct node *temp = top;
        int poppedValue = top->data;
        top = top->next;
        free(temp);
        return poppedValue;
    }
}
int peek() {
    if (top == NULL) {
        printf("Stack is empty\n");
        return -1;
    } else {
        return top->data;
    }
}
int isEmpty() {
    return top == NULL;
}
void display() {        
    if (top == NULL) {
        printf("Stack is empty\n");
    } else {
        struct node *temp = top;
        printf("Stack elements:\n");
        while (temp != NULL) {
            printf("%d\n", temp->data);
            temp = temp->next;
        }
    }
}
int main() {
    push(10);
    push(20);
    push(30);
    display();
    printf("%d popped from stack\n", pop());
    printf("Top element is %d\n", peek());
    display();
    return 0;
}